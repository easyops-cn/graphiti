# 升级注意事项

升级 Graphiti 时，需要检查以下文件是否有冲突：

1. `graphiti_core/prompts/extract_nodes.py` - 确保 KNOWLEDGE_GRAPH_PRINCIPLES 和 filter_entities 函数存在
2. `graphiti_core/utils/maintenance/node_operations.py` - 确保 filter_extracted_nodes 函数和调用逻辑存在
3. `graphiti_core/models/edges/edge_db_queries.py` - 确保 `get_entity_edge_save_bulk_query_by_type()` 函数存在
4. `graphiti_core/utils/bulk_utils.py` - 确保边按类型分组保存的逻辑存在
5. `graphiti_core/utils/maintenance/edge_operations.py` - 确保非 Schema 边类型降级逻辑存在
6. 各 prompt 文件 - 确保 reasoning 字段的修改保留

建议使用 `git diff` 对比上游更新，手动合并自定义修改。

---
